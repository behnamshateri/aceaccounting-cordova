(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{421:function(e,a,t){"use strict";var n=t(2);Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(e){var a=function(a){return s.default.createElement(r.default.Consumer,null,function(t){return s.default.createElement(e,(0,c.default)({muiFormControl:t},a))})};0;return(0,i.default)(a,e),a};var c=n(t(3)),s=n(t(0)),i=n(t(57)),r=n(t(423));t(46)},423:function(e,a,t){"use strict";var n=t(2);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var c=n(t(0)).default.createContext();a.default=c},433:function(e,a,t){},470:function(e,a,t){"use strict";var n=t(2);Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.styles=void 0;var c=n(t(3)),s=n(t(4)),i=n(t(0)),r=(n(t(1)),n(t(8))),o=n(t(9)),l=t(108);t(85);var u={root:{display:"flex",alignItems:"center",justifyContent:"flex-end",flex:"0 0 auto",margin:"8px 4px"},action:{margin:"0 4px"}};function m(e){var a=e.disableActionSpacing,t=e.children,n=e.classes,o=e.className,u=(0,s.default)(e,["disableActionSpacing","children","classes","className"]);return i.default.createElement("div",(0,c.default)({className:(0,r.default)(n.root,o)},u),a?t:(0,l.cloneChildrenWithClassName)(t,n.action))}a.styles=u,m.propTypes={},m.defaultProps={disableActionSpacing:!1};var d=(0,o.default)(u,{name:"MuiDialogActions"})(m);a.default=d},552:function(e,a,t){"use strict";var n=t(2);Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return c.default}});var c=n(t(470))},949:function(e,a,t){},950:function(e,a,t){e.exports=t.p+"static/media/rabo-bank.cf10261e.png"},951:function(e,a,t){e.exports=t.p+"static/media/color-code-rabo-gray.dbf51db0.png"},952:function(e,a,t){e.exports=t.p+"static/media/rabo-scanner-retina.ade5a137.gif"},979:function(e,a,t){"use strict";t.r(a);var n=t(42),c=t(6),s=t(7),i=t(13),r=t(11),o=t(12),l=t(56),u=t(0),m=t.n(u),d=(t(433),t(949),t(950)),h=t.n(d),b=t(951),f=t.n(b),v=t(952),g=t.n(v),p=t(425),E=t.n(p),N=t(427),x=t.n(N),S=t(428),y=t.n(S),_=t(182),C=t.n(_),A=t(554),k=t.n(A),z=t(51),L=t.n(z),I=t(116),O=t.n(I),j=t(552),F=t.n(j),B=t(118),D=t.n(B),P=t(119),T=t.n(P),w=t(117),R=t.n(w),M=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(i.a)(this,Object(r.a)(a).call(this,e))).state={loading:!1,openDialog:!1,acception:!0,focusAccount:!1,focusCard:!1,focusLoginCode:!1,validCard:!1,validAccount:!1,cardIfSubmitted:!1,disableAccountInfo:!1,canLogin:!0,AccountSubmitError:!1,AccountErrorMessage:!1,AccountSubmitSuccess:!1,OTPSubmitSuccess:!1,accountStatus:{},CrawlerStatusUpdate:"",fields:{account_number:"",card_number:"",login_code:"",response:"",identifyCode:""},errors:{}},t.vm=L.a.react.connect("Rabobank",Object(l.a)(Object(l.a)(t))),t}return Object(o.a)(a,e),Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,a){this.state.AccountSubmitSuccess!==a.AccountSubmitSuccess&&this.state.AccountSubmitSuccess&&this.setState({accountStatus:JSON.parse(a.AccountSubmitSuccess),loading:!1,cardIfSubmitted:!0,canLogin:!1,disableAccountInfo:!0}),this.state.AccountSubmitError!==a.AccountSubmitError&&this.state.AccountSubmitError&&this.setState(function(e){return{loading:!1,cardIfSubmitted:!1,disableAccountInfo:!1,AccountSubmitSuccess:!1,canLogin:!0,fields:Object(n.a)({},e.fields,{login_code:""})}}),this.state.OTPSubmitSuccess!==a.OTPSubmitSuccess&&this.state.OTPSubmitSuccess&&this.setState(function(e){return{loading:!1,openDialog:!0}})}},{key:"handleChangeAcception",value:function(){this.setState({acception:!this.state.acception})}},{key:"handleValidationAccountInfo",value:function(e){var a=this.state.fields,t={},n=!0;E.a.isEmpty(a.account_number)?(n=!1,t.account_number="This is a mandatory field."):E.a.isLength(a.account_number,{min:9,max:9})?E.a.isNumeric(a.account_number)||(n=!1,t.account_number="card number must be digit"):(n=!1,t.account_number="Enter at least 9  digits."),E.a.isEmpty(a.card_number)?(n=!1,t.card_number="This is a mandatory field."):E.a.isLength(a.card_number,{min:3,max:4})?E.a.isNumeric(a.card_number)||(n=!1,t.card_number="card number must be digit"):(n=!1,t.card_number="Enter at least 9  digits."),this.setState({errors:t},function(){return e(n)})}},{key:"submitAccountInfo",value:function(e){var a=this;e.preventDefault(),this.setState({loading:!0,canLogin:!1}),this.handleValidationAccountInfo(function(e){e?a.vm.$dispatch({SubmitAccountInformation:{accountNumber:a.state.fields.account_number,cardNumber:a.state.fields.card_number}}):a.setState({loading:!1,cardIfSubmitted:!1,canLogin:!0})})}},{key:"handleInputNumber",value:function(e){this.setState({AccountSubmitError:!1});var a=this.state.fields,t={},n=!1,c=!1;"account_number"===e.target.name?E.a.isLength(e.target.value,{min:0,max:8})?(t[e.target.name]="Account number consists of 9 digits.",c=!1):E.a.isLength(e.target.value,{min:9,max:9})&&(t[e.target.name]="",c=!0):"card_number"===e.target.name&&(E.a.isLength(e.target.value,{min:0,max:3})?(t[e.target.name]="Card number must consist of 4 digits",n=!1):E.a.isLength(e.target.value,{min:4,max:4})&&(t[e.target.name]="",n=!0)),E.a.isNumeric(e.target.value)?(a[e.target.name]=e.target.value,n?this.setState({validCard:!0,fields:a,errors:t}):c?this.setState({validAccount:!0,fields:a,errors:t}):n?c||this.setState({validAccount:!1,fields:a,errors:t}):this.setState({validCard:!1,fields:a,errors:t})):E.a.isEmpty(e.target.value)&&(a[e.target.name]=e.target.value,this.setState({validCard:!1,validAccount:!1,fields:a,errors:t}))}},{key:"handleValidation",value:function(e){var a=this.state.fields,t={},n=!0;E.a.isEmpty(a.login_code)?(n=!1,t.login_code="This is a mandatory field."):E.a.isLength(a.login_code,{min:8,max:8})||(n=!1,t.login_code="Enter at least 8  digits."),this.state.acception||(n=!1,t.acceptterms="this must be accepted."),this.setState({errors:t},function(){return e(n)})}},{key:"handleSubmit",value:function(e){var a=this;e.preventDefault(),this.handleValidation(function(e){e&&(a.setState({loading:!0,cardIfSubmitted:!1}),a.vm.$dispatch({SubmitOtp:{OTPValue:a.state.fields.login_code}}))})}},{key:"handleFocusAccount",value:function(){this.setState({focusAccount:!0})}},{key:"handleBlurAccount",value:function(){this.setState({focusAccount:!1})}},{key:"handleFocusCard",value:function(){this.setState({focusCard:!0})}},{key:"handleBlurCard",value:function(){this.setState({focusCard:!1})}},{key:"handleFocusLoginCode",value:function(){this.setState({focusLoginCode:!0})}},{key:"handleBlurLoginCode",value:function(){this.setState({focusLoginCode:!1})}},{key:"componentWillUnmount",value:function(){this.vm.$destroy()}},{key:"handleCloseDialog",value:function(){this.setState({openDialog:!1},function(){this.props.history.push("/bank-accounts")})}},{key:"render",value:function(){var e=this.state,a=e.fields,t=e.errors,n=e.cardIfSubmitted,c=e.loading,s=e.AccountSubmitError,i=e.CrawlerStatusUpdate;return m.a.createElement("div",{className:"col-xs-12 no-horizantal rabo-bank-account-update"},m.a.createElement("div",{className:"col-xs-12 abn-body"},m.a.createElement("div",{className:"container"},m.a.createElement("div",{className:"main-body-abn col-xs-10 col-xs-offset-1"},m.a.createElement("form",{action:""},m.a.createElement("div",{id:"header",className:"text-center"},m.a.createElement("div",{className:"abn-header text-center"},m.a.createElement("img",{src:h.a,className:"img-responsive",alt:"Rabo Bank"}))),m.a.createElement("div",{className:"col-xs-12 abn-body-container"},m.a.createElement("div",{className:"col-xs-12 form-container"},m.a.createElement("div",{className:"col-xs-8"},c?m.a.createElement("div",{className:"spinner-container"},m.a.createElement(k.a,{disableShrink:!0,size:24,thickness:4,className:"loading-spinner"})):null,m.a.createElement("div",{className:"col-xs-12 no-horizantal"},m.a.createElement("p",null,"Bank card")),s?m.a.createElement("p",{className:"col-xs-12 server-error"},"The combination of your account, card number and code is incorrect. If the problem persists, please contact your Rabobank. (947)"):null,m.a.createElement("div",{className:"col-xs-12 no-horizantal text-center card-account-constant-height"},m.a.createElement("div",{className:"col-xs-6 no-horizantal account-access"},m.a.createElement("label",{htmlFor:"",className:"col-xs-12 no-horizantal"},m.a.createElement("div",{className:"col-xs-12"},"Account number"),m.a.createElement("div",{className:"clearfix"}),m.a.createElement("div",{className:["col-xs-10","border-input-rabo",this.state.focusAccount?"has-focus":"",t.account_number?"has-error":""].join(" ")},m.a.createElement("div",{className:"col-xs-6 no-horizantal"},"NL \u2022 \u2022 RABO 0"),m.a.createElement("div",{className:"col-xs-6 no-horizantal"},m.a.createElement("input",{type:"text",maxLength:"9",name:"account_number",onBlur:this.handleBlurCard.bind(this),onFocus:this.handleFocusCard.bind(this),onChange:this.handleInputNumber.bind(this),disabled:this.state.disableAccountInfo,value:a.account_number}))),m.a.createElement("div",{className:"col-xs-2 no-horizantal text-center more-info-rabo"},m.a.createElement("i",{className:"fa fa-info-circle","aria-hidden":"true"}))),t.account_number?m.a.createElement("div",{className:"col-xs-10 no-horizantal"},m.a.createElement("span",{className:"input-errors-rabo"},t.account_number)):null),m.a.createElement("div",{className:"col-xs-4 no-horizantal account-access"},m.a.createElement("label",{htmlFor:"",className:"col-xs-12 no-horizantal"},m.a.createElement("div",{className:"col-xs-12"},"card number"),m.a.createElement("div",{className:["col-xs-10","border-input-rabo",this.state.focusCard?"has-focus":"",t.card_number?"has-error":""].join(" ")},m.a.createElement("input",{type:"text",maxLength:"4",name:"card_number",onBlur:this.handleBlurCard.bind(this),onFocus:this.handleFocusCard.bind(this),onChange:this.handleInputNumber.bind(this),disabled:this.state.disableAccountInfo,value:a.card_number})),m.a.createElement("div",{className:"col-xs-2 no-horizantal text-center more-info-rabo"},m.a.createElement("i",{className:"fa fa-info-circle","aria-hidden":"true"}))),t.card_number?m.a.createElement("div",{className:"col-xs-10 no-horizantal"},m.a.createElement("span",{className:"input-errors-anb"},t.card_number)):null)),this.state.disableAccountInfo?null:m.a.createElement("div",{className:"col-xs-12  no-horizantal"},m.a.createElement("div",{className:"col-xs-12 no-horizantal text-left"},m.a.createElement("input",{type:"checkbox",id:"remember-me"}),m.a.createElement("label",{htmlFor:"remember-me",className:"pointer"},m.a.createElement("span",{className:"handle-checkbox"}),"Remember account and card number locally.")),m.a.createElement("div",{className:"col-xs-12  no-horizantal"},m.a.createElement(C.a,{variant:"contained",color:"primary",type:"submit",className:"bank-submit bank-submit-account-info",onClick:this.submitAccountInfo.bind(this)},"submit"))),m.a.createElement("div",{className:"col-xs-12 no-horizantal"},m.a.createElement("div",{className:"col-xs-12 no-horizantal"},m.a.createElement("div",{className:"col-xs-8 no-horizantal"},m.a.createElement("ul",{className:["how-to-login",n?"":"deactive"].join(" ")},m.a.createElement("li",null,"Insert your card into the Rabo Scanner"),m.a.createElement("li",null,"Enter your PIN"),m.a.createElement("li",null,"Scan the color code"),m.a.createElement("li",null,"Verify the summary on the Rabo Scanner"))),m.a.createElement("div",{className:"col-xs-4 no-horizantal"},n?m.a.createElement("img",{src:"data:image/jpeg;base64,".concat(JSON.parse(i).Base64Data),className:"img-responsive",alt:"color code"}):m.a.createElement("img",{src:f.a,className:"img-responsive",alt:"color code gray"}))),m.a.createElement("div",{className:"col-xs-12 no-horizantal account-access"},m.a.createElement("label",{htmlFor:"",className:"col-xs-12 no-horizantal"},m.a.createElement("div",{className:"col-xs-12"},"Login code"),m.a.createElement("div",{className:["col-xs-8","border-input-rabo",this.state.focusLoginCode?"has-focus":""].join(" ")},m.a.createElement("input",{type:"text",maxLength:"8",name:"login_code",onBlur:this.handleBlurLoginCode.bind(this),onFocus:this.handleFocusLoginCode.bind(this),onChange:this.handleInputNumber.bind(this),disabled:this.state.canLogin,value:a.login_code}))),t.login_code?m.a.createElement("div",{className:"col-xs-10 no-horizantal"},m.a.createElement("span",{className:"input-errors-anb"},t.login_code)):null)),m.a.createElement("div",{className:"col-xs-12 no-horizantal text-center"})),m.a.createElement("div",{className:"col-xs-4"},m.a.createElement("img",{src:g.a,alt:"rabo scanner",className:"img-responsive"}))),m.a.createElement("div",{className:"col-xs-12 getfeed-btn no-horizantal"},n?m.a.createElement("div",{className:"col-xs-12 no-horizantal"},m.a.createElement("div",{className:"col-xs-12  text-center"},m.a.createElement(x.a,{control:m.a.createElement(y.a,{color:"default",checked:this.state.acception,value:"remember-me",onChange:this.handleChangeAcception.bind(this),className:"remember-me",name:"acceptterms"}),label:"Accept aceaccounting terms and conditions",className:"label-remember-me terms-condition"}),m.a.createElement("div",{className:"clearfix"}),this.state.errors.acceptterms?m.a.createElement("span",{className:"input-errors"},this.state.errors.acceptterms):null),m.a.createElement("div",{className:"col-xs-12 text-center"},m.a.createElement(C.a,{variant:"contained",color:"primary",type:"submit",className:"bank-submit",onClick:this.handleSubmit.bind(this)},"Accept and Login"))):null)))))),m.a.createElement(O.a,{open:this.state.openDialog,onClose:this.handleCloseDialog.bind(this),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},m.a.createElement(R.a,{className:"text-center title-dialog",id:"alert-dialog-title"},m.a.createElement("i",{className:"fa fa-check-circle-o","aria-hidden":"true"})),m.a.createElement(D.a,null,m.a.createElement(T.a,{id:"alert-dialog-description",className:"dialog-container-text"},"Your account has been updated")),m.a.createElement(F.a,{className:"text-center submit-btn-dialog"},m.a.createElement(C.a,{onClick:this.handleCloseDialog.bind(this),variant:"outlined",color:"primary",autoFocus:!0},"Ok"))))}}]),a}(u.Component);a.default=M}}]);
//# sourceMappingURL=17.b8940c0c.chunk.js.map