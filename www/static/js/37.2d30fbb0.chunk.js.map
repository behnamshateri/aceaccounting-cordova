{"version":3,"sources":["Components/PrivateRoute.js"],"names":["PrivateRoute","props","_this","Object","D_Projects_ace_accounting_cordova_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","D_Projects_ace_accounting_cordova_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__","D_Projects_ace_accounting_cordova_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__","call","state","isLoading","vm","dotnetify","react","connect","D_Projects_ace_accounting_cordova_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","headers","Authorization","auth","getAccessToken","exceptionHandler","_","signOut","nextProps","setState","$destroy","_this$props","Component","component","isAuthenticated","restProps","D_Projects_ace_accounting_cordova_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","react_router_dom__WEBPACK_IMPORTED_MODULE_8__","assign","render","react_router_dom__WEBPACK_IMPORTED_MODULE_9__","to","pathname","from","location"],"mappings":"uNAMMA,cACF,SAAAA,EAAYC,GAAM,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACdE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,MAAO,CACRC,WAAW,GAIfR,EAAKS,GAAKC,IAAUC,MAAMC,QAAQ,YAAxBX,OAAAY,EAAA,EAAAZ,QAAAY,EAAA,EAAAZ,CAAAD,IAA2C,CAClDc,QAAS,CAAEC,cAAe,UAAYC,IAAKC,kBAC3CC,iBAAkB,SAAAC,GAAC,OAAIH,IAAKI,aATjBpB,yFAeQqB,EAAWtB,GAC7BsB,EAAUL,OAASjB,EAAMiB,MACzBb,KAAKmB,SAAS,CACVd,WAAW,mDAOnBL,KAAKM,GAAGc,4CAKH,IAAAC,EACiErB,KAAKJ,MAAxD0B,EADdD,EACGE,UAA4BC,EAD/BH,EACyBR,KAA0BY,EADnD3B,OAAA4B,EAAA,EAAA5B,CAAAuB,EAAA,sBAEEhB,EAAWL,KAAKI,MAAhBC,UACP,OACIsB,EAAAC,EAAAC,cAACC,EAAA,EAADhC,OAAAiC,OAAA,GAAWN,EAAX,CAAsBO,OAAQ,SAACpC,GAAD,OAC1BS,GAAamB,EACTG,EAAAC,EAAAC,cAACP,EAAc1B,GAEf+B,EAAAC,EAAAC,cAACI,EAAA,EAAD,CAAUC,GAAI,CAACC,SAAS,SAAW/B,MAAM,CAACgC,KAAKxC,EAAMyC,wBAvC9Cf,aAmDZ3B","file":"static/js/37.2d30fbb0.chunk.js","sourcesContent":["import React, {Component} from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport {Redirect, Route} from \"react-router-dom\";\r\nimport auth from './../auth';\r\nimport dotnetify from 'dotnetify';\r\n\r\nclass PrivateRoute extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state=({\r\n            isLoading: true,\r\n        });\r\n\r\n        //// Send access_token to server in order to authorization\r\n        this.vm = dotnetify.react.connect('AppLayout', this, {\r\n           headers: { Authorization: 'Bearer ' + auth.getAccessToken() },\r\n           exceptionHandler: _ => auth.signOut()\r\n        });\r\n\r\n    }\r\n  \r\n\r\n    componentWillReceiveProps(nextProps ,props) {\r\n        if (nextProps.auth !== props.auth) {\r\n            this.setState({\r\n                isLoading: false,\r\n            })\r\n        }\r\n    }\r\n\r\n\r\n    componentWillUnmount() {\r\n        this.vm.$destroy();\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const { component: Component, auth: isAuthenticated, ...restProps } = this.props;\r\n        const {isLoading}=this.state;\r\n        return (\r\n            <Route {...restProps} render={(props)=>(\r\n                isLoading || isAuthenticated ?(\r\n                    <Component {...props}/>\r\n                ):(\r\n                    <Redirect to={{pathname:'/login' , state:{from:props.location}}} />\r\n                )\r\n            )} />\r\n        )\r\n    }\r\n}\r\n\r\nPrivateRoute.propTypes={\r\n    component:PropTypes.func.isRequired,\r\n    path:PropTypes.string.isRequired,\r\n};\r\n\r\nexport default PrivateRoute;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}